<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- hide sementara -->

        <record id="vit_journal_uudp" model="ir.ui.view">
            <field name="name">account.journal.uudp.form</field>
            <field name="model">account.journal</field>
            <field name="inherit_id" ref="account.view_account_journal_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='code']" position="after">
                    <field name="show_on_uudp" />
                </xpath>
            </field>
        </record>

        <record id="view_move_line_analityc_tag_tree" model="ir.ui.view">
            <field name="name">account.move.line.tree</field>
            <field name="model">account.move.line</field>
            <field name="inherit_id" ref="account.view_move_line_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='account_id']" position="after">
                    <field name="analytic_tag_ids" options="{'no_create': True}"/>
                </xpath>
            </field>
        </record>

        <record id="view_move_analityc_tag_form" model="ir.ui.view">
            <field name="name">account.move.form</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='line_ids']/tree//field[@name='analytic_account_id']" position="after">
                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" options="{'no_create': True}" widget="many2many_tags" attrs="{'required':[('state','=','draft')]}"/>
                    <field name="state" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='line_ids']/tree//field[@name='analytic_account_id']" position="attributes">
                    <attribute name="attrs">{'required':[('state','=','draft')]}</attribute>
                </xpath>
                <xpath expr="//field[@name='invoice_line_ids']//tree//field[@name='product_id']" position="attributes">
                    <attribute name="domain">[('parent_coa_id', '=', False)]</attribute>
                </xpath>
            </field>
        </record>

        <record id="purchase_order_form" model="ir.ui.view">
            <field name="name">purchase.order.form</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.purchase_order_form" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='order_line']//tree//field[@name='product_id']" position="attributes">
                    <attribute name="domain">[('parent_coa_id', '=', False)]</attribute>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="purchase_request_inherit_form">
            <field name="name">purchase.request.form</field>
            <field name="model">purchase.request</field>
            <field name="inherit_id" ref="purchase_request.view_purchase_request_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='line_ids']//tree//field[@name='product_id']" position="attributes">
                    <attribute name="domain">[('parent_coa_id', '=', False)]</attribute>
                </xpath>
            </field>
        </record>

        <record id="view_uudp_tree" model="ir.ui.view">
            <field name="name">uudp.tree</field>
            <field name="model">uudp</field>
            <field name="type">tree</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <tree string="UUDP List" decoration-muted="state=='cancel'" default_order="date desc">
                    <field name="name"/>
                    <field name="category_id"/>
                    <field name="date" string="Tanggal"/>
                    <field name="end_date" string="Realisasi"/>
                    <field name="aging_kasbon" optional="show" invisible="not context.get('pengajuan')"/>
                    <field name="user_id"/>
                    <field name="kasir_id" optional="show"/>
                    <field name="department_id"/>
                    <field name="employee_id"/>
                    <field name="warehouse_ids" widget="many2many_tags"/>
                    <field name="jalur_ids" widget="many2many_tags"/>
                    <field name="ajuan_id" optional="hide"/>
                    <field name="order_id" optional="hide"/>
                    <field name="pencairan_id"/>
                    <field name="tgl_pencairan"/>
                    <field name="tgl_penyelesaian"/>
                    <field name="total_ajuan" sum="Total Amount"/>
                    <field name="total_pencairan" sum="Total Amount"/>
                    <field name="selesai_id" invisible="1"/>
                    <field name="penyelesaian_id" invisible="1"/>
                    <field name="journal_id" invisible="1"/>
                    <field name="cara_bayar" widget="badge" decoration-success="cara_bayar == 'cash'" decoration-info="cara_bayar == 'setor_tunai'"/>
                    <field name="bank_id" optional="hide"/>
                    <field name="no_rekening" optional="hide"/>
                    <field name="notes" optional="hide"/>
                    <field name="selesai" invisible="1"/>
                    <field name="state" widget="badge" decoration-success="state == 'done'" decoration-danger="state == 'refuse'" decoration-warning="state == 'pending'" decoration-info="state in ('confirm','confirm_department','confirm_department1','confirm_hrd','confirm_finance','confirm_accounting')"/>
                    <field name="is_selesai" widget="badge" decoration-success="selesai == True" decoration-danger="selesai != True" invisible="context.get('penyelesaian')"/>
                </tree>
            </field>
        </record>

        <record id="view_uudp_reimburse_tree" model="ir.ui.view">
            <field name="name">uudp.tree</field>
            <field name="model">uudp</field>
            <field name="type">tree</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <tree string="UUDP List">
                    <field name="name"/>
                    <field name="category_id"/>
                    <field name="date"/>
                    <field name="end_date"/>
                    <field name="user_id"/>
                    <field name="kasir_id" optional="show"/>
                    <field name="department_id"/>
                    <field name="employee_id"/>
                    <field name="total_ajuan" sum="Total Amount"/>
                    <field name="total_pencairan" sum="Total Amount"/>
                    <field name="pencairan_id"/>
                    <field name="tgl_pencairan"/>
                    <field name="journal_id" invisible="1"/>
                    <field name="cara_bayar" optional="hide"/>
                    <field name="bank_id" optional="hide"/>
                    <field name="no_rekening" optional="hide"/>
                    <field name="coa_kredit" optional="hide"/>
                    <field name="notes" optional="hide"/>
                    <!-- <field name="company_id"/> -->
                    <field name="state" widget="badge" decoration-success="state == 'done'" decoration-danger="state == 'refuse'" decoration-warning="state == 'pending'" decoration-info="state in ('confirm','confirm_department','confirm_department1','confirm_hrd','confirm_finance','confirm_accounting')"/>

                </tree>
            </field>
        </record>

        <record id="view_uudp_pengajuan_form" model="ir.ui.view">
            <field name="name">uudp.pengajuan.form</field>
            <field name="model">uudp</field>
            <field name="type">form</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <form string="UUDP Pengajuan Form">
                    <header>
                        <button name="button_confirm" states="draft" string="Confirm" type="object" class="oe_highlight"/>

                        <button name="button_confirm_department" states="confirm" string="Confirm" type="object" class="oe_highlight" groups="vit_uudp.group_user_uudp_manager"/>

                        <button name="button_confirm_hrd" states="confirm_department1" string="Confirm" type="object" class="oe_highlight" groups="hr.group_hr_manager"/>

                        <button name="button_re_confirm_department" states="pending" string="Re Confirm" type="object" groups="vit_uudp.group_user_uudp_manager"/>

                        <button name="button_confirm_finance" states="confirm_hrd,confirm_department" string="Confirm" type="object" class="oe_highlight" groups="account.group_account_manager"/>

                        <button name="button_pending" states="confirm_hrd,confirm_department" string="Pending" type="object" class="oe_highlight" groups="account.group_account_manager"/>

                        <button name="button_confirm_accounting" attrs="{'invisible': ['|','|',('state','!=','confirm_finance'),('pencairan_id','=',False),('is_rute_sale','=',True)]}" string="Confirm" type="object" class="oe_highlight" groups="account.group_account_manager"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" states="confirm_finance,pending" string="Cancel" type="object" groups="vit_uudp.group_user_uudp_manager,vit_uudp.group_force_cancel_pengajuan"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" states="done" string="Cancel" type="object" groups="base.group_system"/>


                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" states="confirm" string="Cancel" type="object"/>

                        <button name="button_refuse" confirm="Anda yakin data akan di refuse ?" states="confirm" string="Refuse" type="object" groups="vit_uudp.group_user_uudp_manager"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" states="confirm_department1" string="Cancel" type="object" groups="hr.group_hr_manager"/>

                        <button name="button_refuse" confirm="Anda yakin data akan di refuse ?" states="confirm_department1" string="Refuse" type="object" groups="hr.group_hr_manager"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" states="confirm_department,confirm_hrd" string="Cancel" type="object" groups="account.group_account_manager"/>

                        <button name="button_refuse_finance" confirm="Anda yakin data akan di refuse ?" states="confirm_department,confirm_hrd" string="Refuse" type="object" groups="account.group_account_manager"/>

                        <button name="button_validate" attrs="{'invisible': ['|',('state','!=','confirm_accounting'),('type','=','penyelesaian')]}" string="Validate" class="oe_highlight" confirm="Anda yakin data akan di validasi ?" type="object" groups="vit_uudp.group_user_uudp_adviser"/>

                        <button name="button_set_to_draft" states="cancel" string="Set to Draft" type="object" groups="vit_uudp.group_user_uudp_manager,hr.group_hr_manager,account.group_account_manager,vit_uudp.group_force_cancel_pengajuan"/>

                        <field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"draft":"red","confirm":"blue"}' readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="name" string="Code" />
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="category_id" attrs="{'invisible': [('type','!=','pengajuan')],'required': [('type', '=', 'pengajuan')]}" options="{'no_open': True, 'no_create': True}"/>
                                <field name="user_id" attrs="{'readonly': [('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1}' domain="[('id','=',user_id)]"/>
                                <field name="date" string="Tanggal" attrs="{'readonly': [('state','!=','draft')]}"/>
                                <field name="end_date" string="Batas Realisasi" attrs="{'readonly': [('state','in',('done','cancel'))],'required': [('type','=','pengajuan')]}" />
                                <field name="employee_id_domain" invisible="1"/>
                                <field name="employee_id" context="{'with_nik': True}" domain="employee_id_domain" attrs="{'readonly': [('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1}' required="1"/>
                                <field name="job_id" force_save="1" readonly="1" attrs="{'invisible': [('employee_id','=',False)], 'required': [('type','in',('reimberse','pengajuan'))]}" options='{"no_create": 1, "no_open": 1}'/>
                                <field name="emp_barcode" force_save="1" readonly="1" attrs="{'invisible': [('employee_id','=',False)], 'required': [('type','in',('reimberse','pengajuan'))]}" options='{"no_create": 1, "no_open": 1}'/>
                                <field name="department_id" force_save="1" readonly="1" attrs="{'invisible': [('employee_id','=',False)], 'required': [('type','in',('reimberse','pengajuan'))]}" options='{"no_create": 1, "no_open": 1}' />
                                <field name="credit_limit" attrs="{'invisible':[('employee_id', '=', False)]}"/>
                                <field name="sisa_limit" attrs="{'invisible':[('employee_id', '=', False)]}"/>
                                <field name="journal_entry_id" options='{"no_create": 1, "no_open": 1}' attrs="{'invisible': [('journal_entry_id','=',False)]}" groups="account.group_account_manager" readonly="1"/>
                                <field name="selesai_id" invisible="1"/>
                                <!-- <field name="coa_debit"/>
                                <field name="coa_kredit"/> -->
                                <field name="penyelesaian_id" readonly="1" attrs="{'invisible': [('penyelesaian_id','=',False)]}" options='{"no_create": 1, "no_open": 1}'/>
                                <field name="tgl_penyelesaian" attrs="{'invisible': [('penyelesaian_id','=',False)],'readonly': [('state','in',('done','cancel','refuse'))]}" />
                                <field name="is_rute_sale" invisible="1"/>
                                <field name="kasir_id" attrs="{'invisible':[('kasir_id', '=', False)]}" options="{'no_open': True, 'no_create': True}" />
                            </group>
                            <group>
                                <field name="type" attrs="{'readonly': [('state','!=','draft')]}" invisible="1"/>
                                <field name="total_ajuan" invisible="1"/>
                                <field name="type_pencairan" invisible="1"/>
                                <field name="total_pencairan" attrs="{'invisible': [('total_pencairan','=',0.0)]}" readonly="1"/>
                                <field name="cara_bayar" attrs="{'readonly': [('state','in',('done','cancel','refuse'))]}" required="1"/>
                                <field name="bank_id" attrs="{'readonly': [('state','in',('done','cancel','refuse'))], 'invisible': [('cara_bayar','!=','setor_tunai')], 'required': [('cara_bayar','=','setor_tunai')]}" options='{"no_create": 1, "no_open": 1}'/>
                                <field name="no_rekening" attrs="{'readonly': [('state','in',('done','cancel','refuse'))], 'invisible': [('cara_bayar','!=','setor_tunai')], 'required': [('cara_bayar','=','setor_tunai')]}"/>
                                <field name="atas_nama" attrs="{'readonly': [('state','in',('done','cancel','refuse'))], 'invisible': [('cara_bayar','!=','setor_tunai')], 'required': [('cara_bayar','=','setor_tunai'),('state','=','draft'),('type','!=','penyelesaian')]}"/>
                                <field name="need_driver" attrs="{'readonly': [('state','!=','draft')],'invisible': ['|','|',('type','!=','pengajuan'),('category_name','=','PEMBELIAN'),('is_rute_sale','=',True)]}"/>
                                <label for="date_start" string="From" attrs="{'readonly': [('state','!=','draft')],'invisible': [('need_driver','=',False)]}"/>
                                <div class="o_row no-gutters d-flex" attrs="{'readonly': [('state','!=','draft')],'invisible': [('need_driver','=',False)]}">
                                    <field name="date_start" class="oe_inline text-left" attrs="{'readonly': [('state','!=','draft')],'invisible': [('need_driver','=',False)]}"/>
                                    <label for="date_end" string="To" class="oe_inline"/>
                                    <field name="date_end" attrs="{'readonly': [('state','!=','draft')],'invisible': [('need_driver','=',False)]}"/>
                                </div>
                                <!-- <field name="is_po" attrs="{'readonly': [('state','!=','draft')],'invisible': [('type','!=','pengajuan')]}"/> -->
                                <field name="category_name" invisible="1"/>
                                <field name="bop_type" attrs="{'invisible':[('is_rute_sale', '=', False)],'required':[('is_rute_sale','=',True)]}" widget="radio" options="{'horizontal':true}"/>
                                <field name="vehicle_type" attrs="{'invisible':['|',('is_rute_sale', '=', False),('bop_type','!=','drop')],'required':[('warehouse_ids','!=',False),('type','in',('pengajuan','penyelesaian')),('is_rute_sale', '!=', False)]}" options="{'no_open': True, 'no_create': True}" context="{'split_name': True}"/>
                                <field name="do_id" domain="[('state', '=', 'confirm'),('ajuan_id','=',False)]" attrs="{'invisible':['|',('is_rute_sale', '=', False),('bop_type','!=','drop')],'readonly':[('state','!=','draft')]}" options="{'no_open': True, 'no_create': True}"/>
                                <label for="template_comb_id" string="Template" attrs="{'invisible':[('bop_type', '!=', 'kombinasi')]}"/>
                                <div class="o_row no-gutters d-flex " attrs="{'invisible':[('bop_type', '!=', 'kombinasi')]}">
                                    <field name="template_comb_id" attrs="{'invisible':[('bop_type', '!=', 'kombinasi')]}" class="oe_inline text-left" />
                                    <button name="set_template_combine" attrs="{'invisible':[('bop_type', '!=', 'kombinasi')]}" string="Set as template" type="object" class="oe_highlight" />
                                </div>
                                <!-- <field name="rute_id" domain="[('state', '=', 'confirm'),('ajuan_id','=',False)]" attrs="{'invisible':['|',('is_rute_sale', '=', False),('bop_type', '=', 'drop')],'readonly':[('state','!=','draft')]}" options="{'no_open': True, 'no_create': True}"/> -->
                                <field name="shipment" attrs="{'invisible':['|',('is_rute_sale', '=', False),('bop_type','!=','drop')]}"/>
                                <!-- <field name="warehouse_ids" widget="many2many_tags" attrs="{'invisible':[('is_rute_sale', '=', False)],'required':[('is_rute_sale', '=', True)]}" domain="['|',('is_stock_point', '=', True),('is_drop','=',True)]" options="{'no_open': True, 'no_create': True}"/> -->
                                <field name="warehouse_ids" widget="many2many_tags" attrs="{'invisible':[('is_rute_sale', '=', False)],'required':[('is_rute_sale', '=', True)]}"  options="{'no_open': True, 'no_create': True}"/>
                                <field name="jalur_ids" widget="many2many_tags" attrs="{'invisible':['|',('is_rute_sale', '=', False),('bop_type','=','drop')],'required':[('is_rute_sale', '=', True),('bop_type','=','customer')]}" domain="[('warehouse_id', 'in', warehouse_ids)]" options="{'no_open': True, 'no_create': True}"/>
                                <field name="vehicle_id" attrs="{'invisible':[('is_rute_sale', '=', False)],'required':[('warehouse_ids','!=',False),('type','in',('pengajuan','penyelesaian')),('is_rute_sale', '!=', False)]}" options="{'no_open': True, 'no_create': True}" context="{'split_name': True}"/>
                                <field name="model_id" attrs="{'invisible':[('vehicle_id', '=', False)]}" options="{'no_open': True, 'no_create': True}"/>
                                <!-- <field name="km_awal" attrs="{'invisible':[('vehicle_id', '=', False)]}" /> -->
                                <field name="driver_id" attrs="{'invisible':[('is_rute_sale', '=', False)],'required':[('is_rute_sale', '=', True)]}" options="{'no_open': True, 'no_create': True}"/>
                                <field name="sales_id" attrs="{'invisible':[('is_rute_sale', '=', False)]}" options="{'no_open': True, 'no_create': True}"/>
                                <field name="helper_id" attrs="{'invisible':[('is_rute_sale', '=', False)]}" options="{'no_open': True, 'no_create': True}"/>
                                <field name="order_id" options="{'no_open': True, 'no_create': True}" domain="[('invoice_status', '=', 'no'),('state','=','purchase')]" attrs="{'invisible':[('category_name', '!=', 'PEMBELIAN')],'required':[('category_name','=','PEMBELIAN')]}"/>

                                <!-- <field name="pr_ids" domain="[('state', '=', 'approved'),('purchase_count','=',0),('ajuan_id','=',False)]" attrs="{'invisible':[('category_name', '!=', 'PEMBELIAN')],'required':[('category_name','=','PEMBELIAN')],'readonly':[('state','!=','draft')]}" widget="many2many_tags" options="{'no_open': True, 'no_create': True}"/> -->
                                <!-- <field name="company_id" attrs="{'readonly': [('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1, "no_open": 1}'/> -->
                                <field name="selesai" invisible="1"/>
                                <field name="pencairan_id" readonly="1" attrs="{'invisible': [('pencairan_id','=',False)]}"/>
                                <field name="tgl_pencairan" attrs="{'invisible': [('pencairan_id','=',False)],'readonly': [('state','in',('done','cancel','refuse'))]}" />

                            </group>
                        </group>
                        <notebook>
                            <page string="Detail">
                                <field name="uudp_ids" mode="tree" required="1" attrs="{'readonly': [('state','in',('done','cancel','refuse'))]}">
                                    <tree editable="bottom">
                                        <field name="parent_coa_id" invisible="1"/>
                                        <field name="product_id" required="1" options='{"no_create": 1, "no_open": 1}' domain="[('can_be_expensed','=',True)]"/>
                                        <field name="description" />
                                        <!-- <field name="exp_id" /> -->
                                        <field name="qty" sum="Total Amount"/>
                                        <field name="uom" attrs="{'readonly': [('state','!=','draft')]}"/>
                                        <!-- <field name="company_id" invisible="1"/> -->
                                        <field name="coa_debit" groups="account.group_account_manager" options='{"no_create": 1, "no_open": 1}' string="Account"/>
                                        <!-- <field name="partner_id" options='{"no_create": 1, "no_open": 1}'/> -->
                                        <!-- <field name="store_id" options='{"no_create": 1, "no_open": 1}' required="1"/> -->
                                        <!-- <field name="store_id" options='{"no_create": 1, "no_open": 1}' domain="[('account_analytic_tag_id','!=',False)]" required="1"/> -->
                                        <field name="unit_price" />
                                        <field name="sub_total" sum="Total Amount"/>
                                        <field name="total" invisible="1"/>
                                        <field name="state" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <!-- <page string="Purchase Request Details" attrs="{'invisible':[('category_name', '!=', 'PEMBELIAN')]}">
                                <field name="pr_line_ids">
                                    <tree>
                                        <field name="request_id" options="{'no_open': True, 'no_create': True}"/>
                                        <field name="product_id" options="{'no_open': True, 'no_create': True}" />
                                        <field name="name" />
                                        <field name="specifications" />
                                        <field name="qty_on_hand" />
                                        <field name="product_qty" sum="Total"/>
                                        <field name="product_uom_id" string="Satuan" groups="uom.group_uom" options="{'no_open': True, 'no_create': True}"/>
                                        <field name="date_required" />
                                        <field name="no_komunikasi" />
                                        <field name="last_price" sum="last_price" invisible="1"/>
                                        <field name="estimated_cost" invisible="1" widget="monetary" groups="purchase_request.group_purchase_request_manager" />
                                        <field name="price" sum="price" invisible="1"/>
                                        <field name="currency_id" invisible="1" />
                                        <field name="cancelled" invisible="1" />
                                        <field name="is_editable" invisible="1" />
                                        <field name="note" optional="hide" />
                                        <field name="purchased_qty" optional="hide" />
                                        <field name="purchase_state" widget="badge" decoration-success="purchase_state == ('done')" decoration-muted="purchase_state == ('draft')" decoration-info="purchase_state in ('sent', 'purchase')" decoration-warning="purchase_state == ('to_approve')" decoration-danger="purchase_state == 'cancelled'" optional="hide" />
                                    </tree>
                                </field>
                            </page> -->
                            <!-- <page string="Information" groups="account.group_account_manager">
                                <group>
                                    <group>
                                        <field name="coa_debit" attrs="{'readonly':[('state','=','done')]}" options='{"no_create": 1, "no_open": 1}'/>
                                    </group>
                                </group>
                            </page> -->
                        </notebook>
                        <separator string="Notes"/>
                        <field name="notes" />
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="view_uudp_line_form" model="ir.ui.view">
            <field name="name">uudp.line.form</field>
            <field name="model">uudp.detail</field>
            <field name="type">form</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <form string="UUDP Line Form">
                    <sheet>
                        <group>
                            <field name="uudp_id" invisible="1"/>
                            <field name="product_id" required="1" attrs="{'readonly': [('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1}' domain="[('can_be_expensed','=',True),('name','=','UUDP')]"/>
                            <field name="description" attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="exp_id"/>
                            <field name="qty" sum="Total Amount" attrs="{'readonly':[('state','=','done')]}"/>
                            <field name="uom" attrs="{'readonly': [('state','!=','draft')]}"/>
                            <field name="coa_debit" invisible="1"/>
                            <!-- <field name="company_id" invisible="1"/> -->
                            <!-- <field name="partner_id" options='{"no_create": 1, "no_open": 1}'/>
                            <field name="store_id" options='{"no_create": 1, "no_open": 1, "no_open": 1}'/> -->
                            <!-- <field name="store_id" options='{"no_create": 1, "no_open": 1, "no_open": 1}' domain="[('account_analityc_tag_id','!=',False)]"/> -->
                            <field name="unit_price" attrs="{'readonly':[('state','=','done')]}"/>
                            <field name="sub_total" sum="Total Amount"/>
                            <field name="total" invisible="1"/>
                            <field name="state" invisible="1"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="view_uudp_penyelesaian_form" model="ir.ui.view">
            <field name="name">uudp.penyelesaian.form</field>
            <field name="model">uudp</field>
            <field name="type">form</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <form string="UUDP Form">
                    <header>
                        <button name="button_confirm" states="draft" string="Confirm" type="object" class="oe_highlight" groups=""/>

                        <!-- <button name="action_open_reimburse" attrs="{'invisible':['|','|','|',('sisa_penyelesaian', '&gt;=', 0.00),('reimburse_id','!=',False),('type','=','reimberse'),('journal_entry_id','!=',False)]}" string="Ajukan Reimburse" type="object" class="oe_highlight" groups=""/> -->
                        <!-- <button name="button_tekor" attrs="{'invisible':['|','|','|',('sisa_penyelesaian', '&gt;=', 0.00),('reimburse_id','!=',False),('type','=','reimberse'),('journal_entry_id','!=',False)]}" string="Tekorkan" type="object" class="oe_highlight" groups=""/> -->

                        <button name="button_confirm_department" attrs="{'invisible': ['|',('state','!=','confirm'),('type','not in',('reimberse','penyelesaian'))]}" string="Confirm" type="object" class="oe_highlight" groups="vit_uudp.group_user_uudp_manager"/>

                        <button name="button_confirm_hrd" states="confirm_department1" string="Confirm" type="object" class="oe_highlight" groups="hr.group_hr_manager"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" states="confirm_department1" string="Cancel" type="object" groups="hr.group_hr_manager"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" attrs="{'invisible': ['|',('state','!=','confirm'),('type','!=','reimberse')]}" string="Cancel" type="object"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" states="done" groups="base.group_system" string="Cancel" type="object"/>

                        <button name="button_refuse" confirm="Anda yakin data akan di refuse ?" attrs="{'invisible': ['|',('state','!=','confirm'),('type','!=','reimberse')]}" string="Refuse" type="object" groups="vit_uudp.group_user_uudp_manager"/>

                        <!-- <button name="button_confirm_finance" attrs="{'invisible': ['|',('state','!=','confirm'),('type','!=','penyelesaian')]}" string="Confirm" type="object" class="oe_highlight" groups="account.group_account_manager"/> -->

                        <button name="button_confirm_finance" states="confirm_hrd,confirm_department,confirm_knd" string="Confirm" type="object" class="oe_highlight" groups="account.group_account_manager"/>

                        <button name="button_confirm_accounting" attrs="{'invisible': ['|',('state','!=','confirm_finance'),('pencairan_id','=',False)]}" string="Confirm" type="object" class="oe_highlight" groups="account.group_account_manager"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" attrs="{'invisible': ['|',('state','not in',['confirm','confirm_department']),('type','!=','penyelesaian')]}" string="Cancel" type="object"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" attrs="{'invisible': ['|',('state','!=','confirm_department'),('type','!=','reimberse')]}" string="Cancel" type="object" groups="account.group_account_manager"/>

                        <button name="button_refuse_finance" confirm="Anda yakin data akan di refuse ?" attrs="{'invisible': ['|',('state','!=','confirm'),('type','!=','penyelesaian')]}" string="Refuse" type="object" groups="account.group_account_manager"/>

                        <button name="button_refuse_finance" confirm="Anda yakin data akan di refuse ?" attrs="{'invisible': ['|',('state','!=','confirm_department'),('type','!=','reimberse')]}" string="Refuse" type="object" groups="account.group_account_manager"/>

                        <button name="button_validate" attrs="{'invisible': ['|',('state','!=','confirm_accounting'),('type','=','penyelesaian')]}" string="Validate" class="oe_highlight" confirm="Anda yakin data akan di validasi ?" type="object" groups="vit_uudp.group_user_uudp_adviser,vit_uudp.group_user_uudp_manager"/>


                        <button name="button_confirm_knd" attrs="{'invisible': ['|','|',('state','!=','confirm_department2'),('type','!=','penyelesaian'),('need_approve','=',False)]}" string="Confirm Knd" class="oe_highlight" type="object" />



                        <button name="button_reconcile" attrs="{'invisible': ['|','|',('bank_statement_id','=',False),('state','=','done'),('is_reconciled','=',True)]}" string="Reconcile" class="oe_highlight" type="object" groups="vit_uudp.group_user_uudp_adviser,vit_uudp.group_user_uudp_manager"/>

                        <!-- <button name="button_validate_po" attrs="{'invisible': ['|',('category_name','!=','PEMBELIAN'),('is_reconciled','=',True),('state','!=','confirm_finance')]}" string="Validate" class="oe_highlight" type="object" groups="vit_uudp.group_user_uudp_adviser"/> -->


                        <button name="button_done_finance" attrs="{'invisible': ['|',('state','!=','confirm_accounting'),('type','!=','penyelesaian')]}" string="Confirm" type="object" class="oe_highlight" groups="vit_uudp.group_user_uudp_adviser,vit_uudp.group_user_uudp_manager"/>

                        <button name="button_done_finance" attrs="{'invisible': ['|',('state','!=','confirm_finance'),('type','!=','penyelesaian')]}" string="Confirm" type="object" class="oe_highlight" groups="vit_uudp.group_user_uudp_adviser,vit_uudp.group_user_uudp_manager"/>

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" states="confirm_finance" string="Cancel" type="object" groups="account.group_account_manager"/>

                        <button name="button_set_to_draft" states="cancel" string="Set to Draft" type="object" class="oe_highlight" groups="account.group_account_manager"/>

                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm,done" statusbar_colors="{&quot;draft&quot;:&quot;red&quot;,&quot;confirm&quot;:&quot;blue&quot;}" readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" name="button_journal_entries" string="Journal Entries" type="object" icon="fa-bars"/>
                        </div>
                        <div class="oe_title">
                            <label for="name" string="Code" />
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="is_reconciled" invisible="1"/>
                                <field name="is_user_pencairan" invisible="1"/>
                                <field name="category_name" invisible="1"/>
                                <field name="user_id" options='{"no_create": 1, "no_open": 1}'/>
                                <!-- <field name="user_id" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')]}" options='{"no_create": 1, "no_open": 1}'/> -->
                                <field name="date" force_save="1" readonly="1" string="Tanggal"/>
                                <!-- <field name="date" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')]}"/> -->
                                <field name="end_date" string="Due Date" attrs="{'invisible':[('end_date', '=', False)],'readonly': [('state', '=', 'draft')]}" />
                                <!-- <field name="end_date" attrs="{'readonly': [('state','in',('done','cancel'))],'required': [('type','=','reimberse')],'invisible': [('type','!=','reimberse')]}" /> -->
                                <field name="employee_id" context="{'with_nik': True}" force_save="1"  attrs="{'invisible': [('ajuan_id','!=',False)], 'required': [('type','=','reimberse')],'readonly':[('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1}'/>
                                <!-- <field name="employee_id" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')], 'invisible': [('employee_id','=',False)], 'required': [('type','=','reimberse')]}" options='{"no_create": 1, "no_open": 1}'/> -->
                                <field name="department_id" force_save="1" attrs="{'invisible': [('employee_id','=',False),('ajuan_id','!=',False)], 'required': [('type','=','reimberse')],'readonly':[('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1}'/>
                                <!-- <field name="employee_id" attrs="{'required': [('type','=','reimberse')],'readonly':['|',('type','!=','reimberse'),('state','!=','draft')]}" force_save="1" options='{"no_create": 1, "no_open": 1}'/> -->
                                <!-- <field name="employee_id" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')], 'required': [('type','=','reimberse')]}" options='{"no_create": 1, "no_open": 1}'/> -->
                                <!-- <field name="department_id" attrs="{'required': [('type','=','reimberse')],'readonly':['|',('type','!=','reimberse'),('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1}'/> -->
                                <!-- <field name="department_id" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')], 'invisible': [('employee_id','=',False)], 'required': [('type','=','reimberse')]}" options='{"no_create": 1, "no_open": 1}'/> -->
                                <field name="bank_statement_id" attrs="{'invisible':[('bank_statement_id', '=', False)]}"/>
                                <field name="reimburse_id" attrs="{'invisible':[('reimburse_id', '=', False)]}"/>
                                <field name="need_approve" invisible="1"/>
                                <field name="is_rute_sale" invisible="1"/>
                                <field name="bill_id" attrs="{'invisible':[('bill_id', '=', False)]}"/>
                                <field name="kasir_id" attrs="{'invisible':[('kasir_id', '=', False)]}" options="{'no_open': True, 'no_create': True}" force_save="1" readonly="1"/>
                            </group>
                            <group>
                                <field name="category_id" invisible="1"/>
                                <field name="type" attrs="{'readonly': [('state','!=','draft')]}" invisible="1"/>
                                <field name="ajuan_id" context="{'penyelesaian': True}" attrs="{'invisible': [('type','!=','penyelesaian')], 'required':[('type','=','penyelesaian')], 'readonly': [('state','!=','draft')]}" domain="[('type','=','pengajuan'),('state','=','done'),('selesai','=',False)]" options="{'no_open': True, 'no_create': True}"/>
                                <!-- <field name="ajuan_id" attrs="{'invisible': [('type','!=','penyelesaian')], 'required':[('type','=','penyelesaian')], 'readonly': [('state','!=','draft')]}" domain="[('type','=','pengajuan'),('state','=','done'),('selesai','=',False),'|',('user_id','=',user_id),('employee_id','=',user_id)]" options="{'no_open': True, 'no_create': True}"/> -->
                                <field name="bop_type" attrs="{'invisible':[('is_rute_sale', '=', False)]}" widget="radio" options="{'horizontal':true}"/>
                                <field name="vehicle_type" force_save="1" readonly="1" attrs="{'invisible':['|',('is_rute_sale', '=', False),('bop_type','!=','drop')],'required':[('warehouse_ids','!=',False),('type','in',('pengajuan','penyelesaian')),('is_rute_sale', '!=', False)]}" options="{'no_open': True, 'no_create': True}" context="{'split_name': True}"/>
                                <field name="warehouse_ids" force_save="1" readonly="1" widget="many2many_tags" attrs="{'invisible':[('is_rute_sale', '=', False)],'required':[('is_rute_sale', '=', True)]}"  domain="['|',('is_stock_point', '=', True)]" options="{'no_open': True, 'no_create': True}"/>
                                <field name="jalur_ids" force_save="1" readonly="1" widget="many2many_tags" attrs="{'invisible':['|',('is_rute_sale', '=', False),('bop_type','=','drop')],'required':[('is_rute_sale', '=', True),('bop_type','=','customer')]}" domain="[('warehouse_id', 'in', warehouse_ids)]" options="{'no_open': True, 'no_create': True}"/>
                                <field name="vehicle_id" force_save="1" readonly="1" attrs="{'invisible':[('is_rute_sale', '=', False)],'required':['|',('warehouse_ids','!=',False),('type','in',('pengajuan','penyelesaian')),('is_rute_sale', '!=', False)],'readonly':[('state','!=','draft')]}" context="{'split_name': True}" options="{'no_open': True, 'no_create': True}"/>
                                <field name="model_id" force_save="1" readonly="1" attrs="{'invisible':[('is_rute_sale', '=', False)],'readonly':[('state','!=','draft')]}" context="{'split_name': True}" options="{'no_open': True, 'no_create': True}"/>
                                <field name="km_awal" attrs="{'invisible':[('vehicle_id', '=', False)],'readonly':[('state','!=','draft')]}" />
                                <field name="km_akhir" attrs="{'invisible':[('vehicle_id', '=', False)],'readonly':[('state','!=','draft')]}" />
                                <field name="driver_id" force_save="1" readonly="1" attrs="{'invisible':[('is_rute_sale', '=', False)],'required':[('is_rute_sale', '=', True)],'readonly':[('state','!=','draft')]}" options="{'no_open': True, 'no_create': True}"/>
                                <field name="sales_id" force_save="1" readonly="1" attrs="{'invisible':[('is_rute_sale', '=', False)],'readonly':[('state','!=','draft')]}" options="{'no_open': True, 'no_create': True}"/>
                                <field name="helper_id" force_save="1" readonly="1" attrs="{'invisible':[('is_rute_sale', '=', False)],'readonly':[('state','!=','draft')]}" options="{'no_open': True, 'no_create': True}"/>
                                <field name="need_driver_penyelesaian" attrs="{'invisible': ['|',('type','!=','penyelesaian'),('need_driver_penyelesaian','=',False)]}"/>
                                <field name="total_ajuan" attrs="{'required':[('type','=','penyelesaian')], 'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')]}" invisible="1"/>
                                <field name="total_ajuan_penyelesaian" attrs="{'required':[('type','=','penyelesaian')], 'invisible':[('type','=','reimberse')]}"/>
                                <field name="shipment"/>
                                <field name="no_do"/>
                                <field name="total_pencairan" invisible="1"/>
                                <field name="cara_bayar" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')], 'invisible': [('type','=','penyelesaian')]}" required="1"/>
                                <field name="bank_id" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')], 'invisible': ['|',('cara_bayar','!=','setor_tunai'),('type','=','penyelesaian')], 'required': [('cara_bayar','=','setor_tunai')]}" options='{"no_create": 1, "no_open": 1}'/>
                                <field name="no_rekening" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')], 'invisible': ['|',('cara_bayar','!=','setor_tunai'),('type','=','penyelesaian')], 'required': [('cara_bayar','=','setor_tunai')]}"/>
                                <field name="atas_nama" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')], 'invisible': ['|',('cara_bayar','!=','setor_tunai'),('type','=','penyelesaian')], 'required': [('cara_bayar','=','setor_tunai'),('state','=','draft'),('type','!=','penyelesaian')]}"/>
                                <field name="order_id" options="{'no_open': True, 'no_create': True}" domain="[('invoice_status', '=', 'no'),('state','=','purchase')]" attrs="{'invisible':[('category_name', '!=', 'PEMBELIAN')],'required':[('category_name','=','PEMBELIAN')]}"/>
                                <field name="order_amount_total" options="{'no_open': True, 'no_create': True}" attrs="{'invisible':['|',('category_name', '!=', 'PEMBELIAN'),('order_id','=',False)]}"/>
                                <field name="picking_ids" widget="many2many_tags" attrs="{'invisible':['|',('category_name', '!=', 'PEMBELIAN'),('order_id','=',False)]}"/>
                                <field name="journal_id" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')], 'invisible' : [('type','=','penyelesaian')]}" options='{"no_create": 1, "no_open": 1}' domain="[('show_on_uudp','=',True)]"/>

                                <!-- <field name="journal_id" required="1" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')], 'invisible' : [('type','=','penyelesaian')]}" options='{"no_create": 1, "no_open": 1}' domain="[('show_on_uudp','=',True)]"/> -->
                                <field name="journal_entry_id" options='{"no_create": 1, "no_open": 1}' attrs="{'invisible': [('journal_entry_id','=',False)]}" groups="account.group_account_manager" readonly="1"/>
                                <!-- <field name="company_id" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')]}" options='{"no_create": 1, "no_open": 1}'/> -->
                                <field name="pencairan_id" readonly="1" attrs="{'invisible':[('pencairan_id','=',False)]}"/>
                                <field name="tgl_pencairan" readonly="1" attrs="{'invisible': [('pencairan_id','=',False)]}"/>

                            </group>
                        </group>
                        <notebook>
                            <page name="detail" string="Detail">
                                <field name="uudp_ids" mode="tree" required="1" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')]}">
                                    <tree editable="bottom">
                                        <field name="parent_coa_id" invisible="1"/>
                                        <field name="product_id" options='{"no_create": 1, "no_open": 1}' domain="[('can_be_expensed','=',True),('name','!=','UUDP')]" />
                                        <field name="coa_debit" options='{"no_create": 1, "no_open": 1}' groups="account.group_account_manager" string="Account"/>
                                        <field name="description" />
                                        <field name="exp_id" />
                                        <field name="qty" sum="Total Amount" />
                                        <field name="uom" attrs="{'readonly': [('state','!=','draft')]}"/>
                                        <field name="unit_price" />
                                        <field name="is_different" invisible="1"/>
                                        <!-- <field name="company_id" invisible="1"/> -->
                                        <!-- <field name="partner_id" options='{"no_create": 1, "no_open": 1}'/>
                                        <field name="store_id" options='{"no_create": 1, "no_open": 1}' required="1"/> -->
                                        <!-- <field name="store_id" options='{"no_create": 1, "no_open": 1}' domain="[('account_analytic_tag_id','!=',False)]" required="1"/> -->
                                        <field name="sub_total" sum="Total Amount"/>
                                        <field name="total" invisible="1"/>
                                        <field name="state" invisible="1"/>
                                    </tree>
                                </field>
                                <group>
                                    <group>
                                        <!--                                      <field name="difference" attrs="{'invisible':[('type','!=','penyelesaian')], 'readonly':[('state','=','done')],'required':[('type','=','penyelesaian'),('sisa_penyelesaian','!=',0.0)]}" options='{"no_create": 1, "no_open": 1, "no_open": 1}' string="Difference Account" invisible="0"/>
                                    <field name="difference_notes" attrs="{'invisible':[('type','!=','penyelesaian')], 'readonly':[('state','=','done')],'required':[('difference','!=',False)]}" invisible="0"/> -->
                                    </group>
                                    <group class="oe_subtotal_footer oe_right">
                                        <field name="sisa_penyelesaian" attrs="{'invisible':[('type','!=','penyelesaian')]}"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Details Purchase" attrs="{'invisible':[('order_id', '=', False)]}">
                                <field name="order_line">
                                    <tree>
                                        <field name="order_id"/>
                                        <field name="partner_id"/>
                                        <field name="date_planned"/>
                                        <field name="product_qty"/>
                                        <field name="product_uom"/>
                                        <field name="price_unit"/>
                                        <field name="taxes_id" widget="many2many_tags"/>
                                        <field name="price_subtotal"/>
                                    </tree>
                                </field>
                            </page>

                            <!-- <page string="Information" groups="account.group_account_manager">
                                <group>
                                    <group>
                                        <field name="by_pass_selisih" attrs="{'readonly':[('state','=','done')]}" invisible="1"/>
                                        <field name="coa_kredit" attrs="{'invisible':[('type','=','pengajuan')], 'required':[('state','=','confirm_finance'),('type','=','penyelesaian')], 'readonly':[('state','=','done')]}" options='{"no_create": 1, "no_open": 1, "no_open": 1}' />
                                    </group>
                                </group>
                            </page> -->
                            <page name="description_page" string="Description">
                                <field name="description" type="html"/>
                                <div class="d-none oe_clear"/>
                            </page>
                        </notebook>
                        <separator string="Notes"/>
                        <field name="notes" attrs="{'readonly': ['|','&amp;',('state','=','confirm'),('is_user_pencairan','!=', True),('state','=','done')]}"/>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="view_uudp_pencairan_tree" model="ir.ui.view">
            <field name="name">uudp.pencairan.tree</field>
            <field name="model">uudp.pencairan</field>
            <field name="type">tree</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <tree string="UUDP Pencairan List">
                    <field name="name"/>
                    <!-- <field name="suitable_journal_ids" invisible="1"/> -->
                    <field name="user_id"/>
                    <field name="journal_id"/>
                    <field name="ajuan_id"/>
                    <field name="category_id"/>
                    <field name="tgl_pencairan"/>
                    <field name="total_pencairan" sum="Total Amount"/>
                    <field name="state" widget="badge" decoration-success="state == 'done'" decoration-danger="state == 'refuse'" decoration-info="state in ('confirm_once','confirm_parsial')"/>
                </tree>
            </field>
        </record>

        <record id="wizard_pencairan_view" model="ir.ui.view">
            <field name="name">pencairan.wizard.view</field>
            <field name="model">pencairan.wizard</field>
            <field name="arch" type="xml">
                <form string="Wizard Pencairan" version="7.0">
                    <group name="pencairan_wizard">
                        <group>
                            <field name="uudp_pencairan_id" invisible="1"/>
                            <field name="date"/>
                            <field name="nominal"/>
                            <field name="notes" placeholder="Label pada sisi kredit"/>
                        </group>
                        <group>
                            <field name="company_id" invisible="1"/>
                            <field name="debit_account_id" options='{"no_create": 1, "no_open": 1}'/>
                            <field name="debit_account_notes" placeholder="Label pada sisi debit"/>
                        </group>
                    </group>
                    <footer>
                        <button type="special" class="btn btn-default" special="cancel" string="Cancel" icon="fa-times"/>

                        <button type="object" class="btn btn-primary" string="OK" name="action_pencairan" icon="fa-check-circle"/>
                    </footer>
                </form>
            </field>
        </record>

        <record id="open_wizard_action_id" model="ir.actions.act_window">
            <field name="name">Masukan Nominal Pencairan</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">pencairan.wizard</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <record id="view_uudp_pencairan_form" model="ir.ui.view">
            <field name="name">uudp.pencairan.form</field>
            <field name="model">uudp.pencairan</field>
            <field name="type">form</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <form string="UUDP Pencairan Form" create="false">
                    <header>
                        <button name="button_confirm" states="draft" string="Confirm" type="object" class="oe_highlight" groups="vit_uudp.group_user_uudp_pencairan"/>

                        <button name="button_done_once" states="confirm_once" string="Done" type="object" class="oe_highlight" groups="vit_uudp.group_manager_uudp_pencairan"/>

                        <!-- <button name="button_done_parsial" states="confirm_parsial" string="Done" type="object" class="oe_highlight" groups="vit_uudp.group_manager_uudp_pencairan"/> -->

                        <button name="button_reconcile" string="Reconcile" attrs="{'invisible':['|',('is_reconciled', '=', True),('bank_statement_id', '=', False),'|',('state','in',('draft','done','cancel'))]}" type="object" class="oe_highlight" groups="vit_uudp.group_manager_uudp_pencairan,vit_uudp.group_user_uudp_pencairan"/>

                        <!-- <button name="%(open_wizard_action_id)d" type="action" states="confirm_parsial" string="Proses Pencairan" class="oe_highlight" groups="vit_uudp.group_manager_uudp_pencairan"/> -->

                        <button name="button_cancel" confirm="Anda yakin data akan di cancel ?" states="confirm_once,confirm_parsial,posted" string="Cancel" type="object" groups="vit_uudp.group_manager_uudp_pencairan"/>

                        <button name="button_refuse" confirm="Anda yakin data akan di refuse ?" states="confirm_once,confirm_parsial" string="Refuse" type="object" groups="vit_uudp.group_manager_uudp_pencairan" invisible="1"/>

                        <button name="action_post_statement" states="posted" string="Reconcile" class="oe_highlight" type="object" groups="vit_uudp.group_manager_uudp_pencairan"/>

                        <button name="button_set_to_draft" states="cancel" string="Set to Draft" type="object" groups="vit_uudp.group_manager_uudp_pencairan"/>

                        <button name="button_force_cancel" attrs="{'invisible' : ['|',('state','!=','done'),('type','!=','parsial')]}" string="Force Cancel" type="object" groups="vit_uudp.group_force_cancel_pencairan"/>

                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm,done" statusbar_colors='{"draft":"red","confirm":"blue"}' readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" name="button_journal_entries" string="Journal Entries" type="object" icon="fa-bars"/>
                        </div>
                        <div class="oe_title">
                            <label for="name" string="Nomor Pencairan" />
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="tgl_pencairan" attrs="{'readonly': [('state','!=','draft')]}"/>
                                <field name="is_reconciled" invisible="1"/>
                                <field name="type" invisible="1"/>
                                <field name="ajuan_id" attrs="{'invisible': [('type','!=','parsial')], 'required': [('type','=','parsial')], 'readonly': [('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1}' domain="[('type','in',('pengajuan','reimberse')),('state','in',('confirm_finance','confirm_accounting')),('type_pencairan','=',False)]"/>
                                <field name="category_id" attrs="{'invisible':[('ajuan_id', '=', False)]}"/>
                                <field name="cara_bayar" attrs="{'invisible':[('ajuan_id', '=', False)]}"/>
                                <field name="bank_statement_id" attrs="{'invisible':[('bank_statement_id', '=', False)]}"/>
                                <field name="nominal_ajuan" attrs="{'invisible': [('type','!=','parsial')]}" readonly="1"/>

                            </group>
                            <group>
                                <field name="sisa_pencairan_parsial" invisible="1"/>
                                <field name="user_id" force_save="1" readonly="1"/>
                                <!-- <field name="company_id" required="1" options='{"no_create": 1, "no_open": 1, "no_open": 1}' attrs="{'readonly': [('state','!=','draft')]}"/> -->
                                <field name="journal_id" attrs="{'readonly': [('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1}' />
                                <field name="is_reconciled" string="Reconciled" force_save="1" readonly="1"/>
                                <!-- <field name="journal_id" attrs="{'readonly': [('state','!=','draft')]}" options='{"no_create": 1, "no_open": 1}' domain="[('show_on_uudp','=',True)]"/> -->
                                <field name="coa_kredit" attrs="{'readonly': [('state','in',('done','cancel','refuse'))]}" options='{"no_create": 1, "no_open": 1}' />
                                <field name="journal_entry_id" options='{"no_create": 1, "no_open": 1}' attrs="{'invisible': [('journal_entry_id','=',False)], 'readonly': [('state','!=','draft')]}"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Pengajuan" attrs="{'invisible': [('uudp_ids','=',[])]}">
                                <field name="uudp_ids" attrs="{'readonly': [('state','in',('done','cancel','refuse'))], 'required': [('type','=','once')]}" domain="[('type','in',('pengajuan','reimberse')),('state','=','confirm_finance'),('pencairan_id','=',False)]">
                                    <tree>
                                        <field name="name"/>
                                        <field name="user_id"/>
                                        <field name="department_id"/>
                                        <field name="employee_id"/>
                                        <field name="total_ajuan" sum="Total Amount"/>
                                        <!-- <field name="total_pencairan" sum="Total Amount"/> -->
                                        <!-- <field name="tgl_pencairan" optional="hide"/> -->
                                        <field name="cara_bayar" optional="hide"/>
                                        <field name="bank_id" optional="hide"/>
                                        <field name="no_rekening" optional="hide"/>
                                        <field name="atas_nama" optional="hide"/>
                                        <field name="state" widget="badge" decoration-success="state == 'done'" decoration-danger="state == 'refuse'" decoration-warning="state == 'pending'" decoration-info="state in ('confirm','confirm_department','confirm_department1','confirm_hrd','confirm_finance','confirm_accounting')"/>
                                        <!-- <field name="company_id"/> -->
                                    </tree>
                                </field>
                            </page>
                            <page string="Journal Entries" attrs="{'invisible': [('type','!=','parsial')]}">
                                <field name="journal_entry_ids">
                                    <tree editable="bottom" create="0" delete="0">
                                        <field name="suitable_journal_ids" invisible="1"/>
                                        <field name="company_id" invisible="1"/>
                                        <field name="date"/>
                                        <field name="name"/>
                                        <field name="partner_id"/>
                                        <field name="ref"/>
                                        <field name="journal_id"/>
                                        <field name="amount_total" sum="Total Amount"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <separator string="Notes"/>
                        <field name="notes" required="0"/>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="pencairan_batches_form" model="ir.ui.view">
            <field name="name">pencairan.batches.form</field>
            <field name="model">pencairan.batches</field>
            <field name="arch" type="xml">
                <form string="Pencairan Batches">
                    <header>
                        <button string="Confirm" name="button_confirm" type="object" states="draft" groups="vit_uudp.group_user_uudp_pencairan,vit_uudp.group_manager_uudp_pencairan"/>
                        <button string="Done" name="button_done" type="object" states="confirm" groups="vit_uudp.group_user_uudp_pencairan,vit_uudp.group_manager_uudp_pencairan"/>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet>
                        <label for="name" class="oe_edit_only"/>
                        <h1>
                            <field name="name" attrs="{'readonly': [('state','!=','draft')]}"/>
                        </h1>
                        <group>
                            <group>
                                <field name="date_planned" attrs="{'readonly': [('state','!=','draft')]}"/>
                                <label for="start_date" string="Period"/>
                                <div>
                                    <field name="start_date" class="oe_inline" placeholder="Start Date" attrs="{'readonly': [('state','!=','draft')]}"/>
-                                    <field name="end_date" class="oe_inline" placeholder="End Date" attrs="{'readonly': [('state','!=','draft')]}"/>
                                </div>
                            </group>
                            <group>
                                <field name="company_id" invisible="1"/>
                                <field name="bank_id" domain="[('type','in',('bank','cash'))]" attrs="{'readonly': [('state','!=','draft')]}"/>
                                <field name="company_id" attrs="{'readonly': [('state','!=','draft')]}" invisible="1"/>
                            </group>
                        </group>
                        <separator string="Pencairan"/>
                        <button name="add_pencairan" string="Add Pencairan" type="object" states="draft" class="oe_stat_button" icon="fa-plus-square" />
                        <field name="pencairan_ids" attrs="{'readonly': [('state','!=','draft')]}" domain="[('type','=','once'),('state','=','confirm_once')]"/>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="pencairan_batches_tree" model="ir.ui.view">
            <field name="name">pencairan.batches.tree</field>
            <field name="model">pencairan.batches</field>
            <field name="type">tree</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <tree string="Pencairan Batches">
                    <field name="name"/>
                    <field name="start_date"/>
                    <field name="end_date"/>
                    <field name="bank_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>





        <record id="uudp_search" model="ir.ui.view">
            <field name="name">uudp.search</field>
            <field name="model">uudp</field>
            <field name="arch" type="xml">
                <search >
                    <field name="name" />
                    <field name="user_id" />
                    <field name="employee_id" />
                    <field name="journal_id" />
                    <field name="notes"/>
                    <field name="date"/>
                    <field name="pencairan_id" />
                    <field name="penyelesaian_id" />
                    <filter string="Sudah Pencairan" name="fl_sudah_cair" domain="[('pencairan_id','!=',False)]" context="{}"/>
                    <filter string="Belum Pencairan" name="fl_belum_cair" domain="[('pencairan_id','=',False)]" context="{}"/>
                    <filter string="Sudah Penyelesaian" name="fl_done" domain="[('penyelesaian_id','!=',False)]" context="{}"/>
                    <filter string="Belum Penyelesaian" name="fl_undone" domain="[('penyelesaian_id','=',False)]" context="{}"/>
                    <filter string="Pencairan Parsial" name="fl_parsial" domain="[('type_pencairan','=','parsial')]" context="{}"/>
                    <filter string="Pencairan Once" name="fl_once" domain="[('type_pencairan','=','once')]" context="{}"/>
                    <group expand="0" string="Group By...">
                        <filter string="Category" name="fl_11" domain="[]" context="{'group_by':'category_id'}"/>
                        <filter string="Pencairan" name="fl_1" domain="[]" context="{'group_by':'pencairan_id'}"/>
                        <filter string="Tgl Pencairan" name="fl_2" domain="[]" context="{'group_by':'tgl_pencairan'}"/>
                        <filter string="Type Pencairan" name="fl_3" domain="[]" context="{'group_by':'type_pencairan'}"/>
                        <filter string="Penyelesaian" name="fl_4" domain="[]" context="{'group_by':'penyelesaian_id'}"/>
                        <filter string="Tgl Penyelesaian" name="fl_5" domain="[]" context="{'group_by':'tgl_penyelesaian'}"/>
                        <filter string="Employee" name="fl_6" domain="[]" context="{'group_by':'user_id'}"/>
                        <filter string="Responsible" name="fl_7" domain="[]" context="{'group_by':'employee_id'}"/>
                        <filter string="Department" name="fl_8" domain="[]" context="{'group_by':'department_id'}"/>
                        <filter string="State" name="fl_9" domain="[]" context="{'group_by':'state'}"/>
                        <filter string="Journal" name="fl_10" domain="[]" context="{'group_by':'journal_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="view_uudp_pencairan_search" model="ir.ui.view">
            <field name="name">uudp.pencairan.search</field>
            <field name="model">uudp.pencairan</field>
            <field name="type">search</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <search string="UUDP Pencairan">
                    <field name="name"/>
                    <field name="ajuan_id" />
                    <field name="tgl_pencairan"/>
                    <field name="state"/>
                    <field name="journal_id"/>
                    <group expand="0" string="Group By...">
                        <filter string="State" name="group_by_state" domain="[]" context="{'group_by':'state'}"/>
                        <filter string="Journal" name="group_by_journal" domain="[]" context="{'group_by':'journal_id'}"/>
                        <filter string="Category" name="group_by_category" domain="[]" context="{'group_by':'category_id'}"/>
                    </group>

                </search>
            </field>
        </record>


        <record id="uudp_category_view_kanban" model="ir.ui.view">
            <field name="name">uudp.category.view.kanban</field>
            <field name="model">uudp.category</field>
            <field name="arch" type="xml">
                <kanban class="oe_background_grey o_kanban_dashboard o_stock_kanban" create="0">
                    <field name="id" invisible="1"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div>
                                <div>
                                    <div class="o_kanban_card_header">
                                        <div class="o_kanban_card_header_title">
                                            <div class="o_primary">
                                                <a type="object" name="action_open_uudp_category">
                                                    <field name="name"/>
                                                </a>
                                            </div>
                                            <!-- <div class="o_secondary">
                                            </div> -->
                                        </div>
                                        <!-- <div class="o_kanban_manage_button_section">
                                            <a class="o_kanban_manage_toggle_button" href="#">More

                                                <i class="fa fa-caret-down"/>
                                            </a>
                                        </div> -->
                                    </div>
                                    <div class="container o_kanban_card_content o_visible">
                                        <div class="row">
                                            <div class="col-xs-6 o_kanban_primary_left">
                                                <button class="btn btn-primary" type="object" name="action_open_uudp_category"> Views</button>
                                            </div>
                                            <div class="col-6 o_kanban_primary_right">
                                                <div t-if="record.belum_selesai.raw_value > 0" class="row">
                                                    <div class="col-12">
                                                        <a name="action_belum_selesai" type="object">
                                                            <field name="belum_selesai"/>
                                                            Belum Selesai
                                                        </a>
                                                    </div>
                                                </div>
                                                <div t-if="record.belum_pencairan.raw_value > 0" class="row">
                                                    <div class="col-12">
                                                        <a name="action_belum_pencairan" type="object">
                                                            <field name="belum_pencairan"/>
                                                            Belum Pencairan
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container o_kanban_card_manage_pane o_invisible">
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record id="action_uudp_pengajuan_list" model="ir.actions.act_window">
            <field name="name">UUDP Pengajuan</field>
            <field name="res_model">uudp</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">tree,form,pivot</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','pengajuan')]</field>
            <field name="context">{'default_type':'pengajuan','pengajuan':True,'split_name':True}</field>
            <field name="search_view_id" ref="uudp_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                Click to add an UUDP Pengajuan
                </p>
                <p>
                klik tombol create untuk menambahkan UUDP pengajuan
                </p>
            </field>
        </record>

        <record id="action_uudp_pengajuan_list_belum_selesai" model="ir.actions.act_window">
            <field name="name">UUDP Pengajuan</field>
            <field name="res_model">uudp</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','pengajuan'),('selesai','!=',True)]</field>
            <field name="context">{'default_type':'pengajuan','pengajuan':True,'split_name':True}</field>
            <field name="search_view_id" ref="uudp_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                Click to add an UUDP Pengajuan
                </p>
                <p>
                klik tombol create untuk menambahkan UUDP pengajuan
                </p>
            </field>
        </record>

        <record id="action_uudp_pengajuan_list_belum_pencairan" model="ir.actions.act_window">
            <field name="name">UUDP Pengajuan</field>
            <field name="res_model">uudp</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">['|',('type','=','pengajuan'),('pencairan_id.state','!=','done'),('pencairan_id','=',False)]</field>
            <field name="context">{'default_type':'pengajuan','pengajuan':True,'split_name':True}</field>
            <field name="search_view_id" ref="uudp_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                Click to add an UUDP Pengajuan
                </p>
                <p>
                klik tombol create untuk menambahkan UUDP pengajuan
                </p>
            </field>
        </record>

        <record id="action_pengajuan_tree1_view1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_uudp_tree"/>
            <field name="act_window_id" ref="action_uudp_pengajuan_list"/>
        </record>

        <record id="action_pengajuan_tree1_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_uudp_pengajuan_form"/>
            <field name="act_window_id" ref="action_uudp_pengajuan_list"/>
        </record>

        <record id="action_uudp_reimberse_list" model="ir.actions.act_window">
            <field name="name">UUDP Reimburse</field>
            <field name="res_model">uudp</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','reimberse')]</field>
            <field name="context">{'default_type':'reimberse'}</field>
            <field name="search_view_id" ref="uudp_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                Click to add an UUDP Reimburse
                </p>
                <p>
                Klik tombol create untuk menambahkan UUDP Reimburse
                </p>
            </field>
        </record>

        <record id="action_reimberse_tree1_view1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_uudp_reimburse_tree"/>
            <field name="act_window_id" ref="action_uudp_reimberse_list"/>
        </record>

        <record id="action_reimberse_tree1_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_uudp_penyelesaian_form"/>
            <field name="act_window_id" ref="action_uudp_reimberse_list"/>
        </record>

        <record id="action_uudp_penyelesaian_list" model="ir.actions.act_window">
            <field name="name">UUDP Penyelesaian</field>
            <field name="res_model">uudp</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','penyelesaian')]</field>
            <field name="context">{'default_type':'penyelesaian','penyelesaian':1}</field>
            <field name="search_view_id" ref="uudp_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                Click to add an UUDP penyelesaian
                </p>
                <p>
                klik tombol create untuk menambahkan UUDP penyelesaian
                </p>
            </field>
        </record>

        <record id="action_penyelesaian_tree1_view1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_uudp_tree"/>
            <field name="act_window_id" ref="action_uudp_penyelesaian_list"/>
        </record>

        <record id="action_penyelesaian_tree1_view2" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_uudp_penyelesaian_form"/>
            <field name="act_window_id" ref="action_uudp_penyelesaian_list"/>
        </record>



        <record id="uudp_hasil_perjalan_dinas_view_tree" model="ir.ui.view">
            <field name="name">uudp_hasil_perjalan_dinas.view.tree</field>
            <field name="model">uudp</field>
            <field name="arch" type="xml">
                <tree create="false" delete="false">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="end_date"/>
                    <field name="user_id"/>
                    <field name="department_id"/>
                    <field name="employee_id"/>
                    <field name="state" widget="badge" decoration-success="state == 'done'" decoration-danger="state == 'refuse'" decoration-warning="state == 'pending'" decoration-info="state in ('confirm','confirm_department','confirm_department1','confirm_hrd','confirm_finance','confirm_accounting')"/>
                </tree>
            </field>
        </record>

        <record id="uudp_hasil_perjalan_dinas_view_form" model="ir.ui.view">
            <field name="name">uudp_hasil_perjalan_dinas.view.form</field>
            <field name="model">uudp</field>
            <field name="arch" type="xml">
                <form create="false">
                    <sheet>
                        <div class="oe_title">
                            <label for="name" string="Code" />
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="is_user_pencairan" invisible="1"/>
                                <field name="user_id" readonly="1" options="{'no_open': True, 'no_create': True}"/>
                                <field name="date" readonly="1"/>
                                <field name="end_date" readonly="1"/>
                                <field name="employee_id" readonly="1" options="{'no_open': True, 'no_create': True}"/>
                                <field name="department_id" readonly="1" options="{'no_open': True, 'no_create': True}"/>
                                <field name="state" invisible="1" readonly="1"/>
                            </group>
                            <group>
                                <field name="type" invisible="1"/>
                                <field name="ajuan_id" readonly="1" options="{'no_open': True, 'no_create': True}"/>
                                <field name="need_driver_penyelesaian" />
                                <field name="total_ajuan" invisible="1"/>
                                <field name="total_ajuan_penyelesaian" invisible="1"/>
                                <field name="total_pencairan" invisible="1"/>
                            </group>
                        </group>
                        <notebook>
                            <page name="description_page" string="Description">
                                <field name="description" type="html" attrs="{'readonly': [('state', '=', 'done')]}"/>
                                <div class="d-none oe_clear"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>

                </form>
            </field>
        </record>

        <record id="uudp_search_pengaju" model="ir.ui.view">
            <field name="name">uudp.search.pengaju</field>
            <field name="model">uudp</field>
            <field name="arch" type="xml">
                <search >
                    <field name="name" />
                    <field name="user_id" />
                    <field name="employee_id" />
                    <field name="notes"/>
                    <field name="date"/>
                    <field name="penyelesaian_id" />
                    <filter string="Sudah Pencairan" name="fl_sudah_cair" domain="[('pencairan_id','!=',False)]" context="{}"/>
                    <filter string="Belum Pencairan" name="fl_belum_cair" domain="[('pencairan_id','=',False)]" context="{}"/>
                    <filter string="Sudah Penyelesaian" name="fl_done" domain="[('penyelesaian_id','!=',False)]" context="{}"/>
                    <filter string="Belum Penyelesaian" name="fl_undone" domain="[('penyelesaian_id','=',False)]" context="{}"/>
                </search>
            </field>
        </record>


        <record id="action_uudp_hasil_perjalanan_dinas_list" model="ir.actions.act_window">
            <field name="name">Hasil Perjalan Dinas</field>
            <field name="res_model">uudp</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('need_driver','=',True)]</field>
            <field name="context">{'default_type':'penyelesaian'}</field>
            <field name="search_view_id" ref="uudp_search_pengaju"/>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('vit_uudp.uudp_hasil_perjalan_dinas_view_tree')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('vit_uudp.uudp_hasil_perjalan_dinas_view_form')}),]"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                Click to add an UUDP penyelesaian
                </p>
                <p>
                klik tombol create untuk menambahkan UUDP penyelesaian
                </p>
            </field>
        </record>


        <record id="action_uudp_pencairan_once" model="ir.actions.act_window">
            <field name="name">UUDP Pencairan</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">uudp.pencairan</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_uudp_pencairan_search"/>
            <field name="domain">[('type','=','once')]</field>
            <field name="context">{'default_type':'once'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to add an UUDP pencairan
                </p>
                <p>klik tombol create untuk menambahkan UUDP pencairan</p>
            </field>
        </record>

        <record id="action_uudp_pencairan_parsial" model="ir.actions.act_window">
            <field name="name">UUDP Pencairan</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">uudp.pencairan</field>
            <field name="search_view_id" ref="view_uudp_pencairan_search"/>
            <field name="view_mode">tree,form,pivot</field>
            <field name="domain">[('type','=','parsial')]</field>
            <field name="context">{'default_type':'parsial'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to add an UUDP pencairan
                </p>
                <p>klik tombol create untuk menambahkan UUDP pencairan</p>
            </field>
        </record>

        <record id="action_uudp_pencairan_batches" model="ir.actions.act_window">
            <field name="name">Pencairan Batches</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">pencairan.batches</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to add an UUDP pencairan batches
                </p>
                <p>klik tombol create untuk menambahkan UUDP pencairan Batches</p>
            </field>
        </record>

        <record id="action_product_uudp_list" model="ir.actions.act_window">
            <field name="name">Products</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.template</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">tree,form</field>
            <field name="domain">[('can_be_expensed','=',1)]</field>
            <field name="context">{"search_default_can_be_expensed":1}</field>
            <field name="search_view_id" ref="product.product_template_search_view"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to define a new product.
                </p>
            </field>
        </record>

        <record id="action_uudp_line_list" model="ir.actions.act_window">
            <field name="name">UUDP Line</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">uudp.detail</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    ...........................
                </p>
            </field>
        </record>

        <record id="dashboard_pengajuan_action" model="ir.actions.act_window">
            <field name="name">Pengajuan</field>
            <field name="res_model">uudp.category</field>
            <field name="view_mode">kanban</field>
            <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('vit_uudp.uudp_category_view_kanban')}),]"/>
        </record>


        <menuitem id="uudp_home" name="Pengajuan Biaya" sequence="50" groups="vit_uudp.group_user_uudp_user,group_user_uudp_pengaju,vit_uudp.group_user_uudp_pencairan" web_icon="vit_uudp,static/description/icon.png">
            <menuitem id="uudp_pengajuan" name="Pengajuan" sequence="1" groups="vit_uudp.group_user_uudp_user,vit_uudp.group_user_uudp_pencairan">
                <menuitem id="uudp_dashboard" name="Dashboard" action="dashboard_pengajuan_action" sequence="1" groups="vit_uudp.group_user_uudp_user,vit_uudp.group_user_uudp_pencairan"/>
                <menuitem id="sub_uudp_pengajuan" name="Pengajuan" action="action_uudp_pengajuan_list" sequence="2" groups="vit_uudp.group_user_uudp_user,vit_uudp.group_user_uudp_pencairan"/>
                <menuitem id="pengajuan_jalur_list" name="Pengajuan By Jalur" action="dh_res_partner.action_partner_jalur" sequence="3" groups="vit_uudp.group_user_uudp_user"/>
            </menuitem>

            <menuitem id="uudp_pencairan_menu" name="Pencairan" sequence="2" groups="vit_uudp.group_user_uudp_pencairan,vit_uudp.group_manager_uudp_pencairan">
                <menuitem id="uudp_pencairan_parsial" name="Parsial" action="action_uudp_pencairan_parsial" sequence="10" groups="vit_uudp.group_user_uudp_pencairan,vit_uudp.group_manager_uudp_pencairan"/>
                <!-- <menuitem id="uudp_pencairan_once" name="At Once" action="action_uudp_pencairan_once" sequence="20" groups="vit_uudp.group_user_uudp_pencairan,vit_uudp.group_manager_uudp_pencairan"/> -->
                <!-- <menuitem id="uudp_pencairan_batches" name="Batches" action="action_uudp_pencairan_batches" sequence="30" groups="vit_uudp.group_user_uudp_pencairan,vit_uudp.group_manager_uudp_pencairan"/> -->
            </menuitem>

            <menuitem id="uudp_penyelesaian" name="Penyelesaian" sequence="3" groups="vit_uudp.group_user_uudp_user,group_user_uudp_pengaju">
                <menuitem id="sub_uudp_penyelesaian" name="Penyelesaian" action="action_uudp_penyelesaian_list" sequence="3" groups="vit_uudp.group_user_uudp_user"/>
                <menuitem id="sub_uddp_hasil" name="Hasil Perjalan Dinas" action="action_uudp_hasil_perjalanan_dinas_list" sequence="4" groups="vit_uudp.group_user_uudp_user,group_user_uudp_pengaju"/>

            </menuitem>
            <menuitem id="uudp_reimberse" name="Reimburse" action="action_uudp_reimberse_list" sequence="4" groups="vit_uudp.group_user_uudp_user"/>

            <menuitem id="uudp_product" name="Products" action="action_product_uudp_list" sequence="5" groups="vit_uudp.group_user_uudp_pencairan,vit_uudp.group_manager_uudp_pencairan"/>

        </menuitem>









        <!--         <menuitem id="uudp_line" name="UUDP Line" parent="uudp_home" action="action_uudp_line_list" sequence="5" groups=""/> -->


        <record id="view_uudp_journal_entry" model="ir.ui.view">
            <field name="name">account.move.tree.uudp</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_tree"/>
            <field name="arch" type="xml">
                <field name="state" position="before">
                    <field name="narration" />
                </field>
            </field>
        </record>

        <record id="pencairan_multi_wizard_view_form" model="ir.ui.view">
            <field name="name">pencairan.multi.wizard.view.form</field>
            <field name="model">pencairan.multi.wizard</field>
            <field name="arch" type="xml">
                <form string="">
                    <sheet>
                        <group>
                            <field name="type" invisible="1"/>
                            <field name="journal_id" options="{'no_open': True, 'no_create': True}" required="1"/>
                            <field name="coa_debit" attrs="{'invisible':[('type', '=', 'reimberse')],'required':[('type','=','pengajuan')]}" options="{'no_open': True, 'no_create': True}" />
                        </group>
                        <notebook>
                            <page string="Ajuan">
                                <field name="pengajuan_ids" context="{'tree_view_ref':'vit_uudp.view_uudp_tree'}">
                                </field>
                            </page>
                        </notebook>
                    </sheet>

                    <footer>
                        <button name="action_pencairan" string="Process" type="object" class="oe_highlight" />
                                            or
                        <button string="Cancel" class="oe_link" special="cancel"/>
                    </footer>

                </form>
            </field>
        </record>


        <record id="pencairan_multi_wizard" model="ir.actions.act_window">
            <field name="name">Ajukan Pencairan</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">pencairan.multi.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="binding_model_id" ref="model_uudp" />
            <field name="binding_view_types">list</field>
            <field name="context">{'pengajuan':True}</field>
            <field name="view_id" ref="pencairan_multi_wizard_view_form"/>
        </record>


        <record id="pencairan_mass_cancel" model="ir.actions.server">
            <field name="name">Cancel</field>
            <field name="model_id" ref="vit_uudp.model_uudp_pencairan"/>
            <field name="binding_model_id" ref="vit_uudp.model_uudp_pencairan"/>
            <field name="binding_view_types">list</field>
            <field name="groups_id" eval="[(4, ref('base.group_system'))]"/>
            <field name="state">code</field>
            <field name="code">
            if records:
                for rec in records:
                    rec.button_cancel()
            </field>
        </record>

        <record id="pencairan_mass_draft" model="ir.actions.server">
            <field name="name">Set to draft</field>
            <field name="model_id" ref="vit_uudp.model_uudp_pencairan"/>
            <field name="binding_model_id" ref="vit_uudp.model_uudp_pencairan"/>
            <field name="binding_view_types">list</field>
            <field name="groups_id" eval="[(4, ref('base.group_system'))]"/>
            <field name="state">code</field>
            <field name="code">
            if records:
                for rec in records:
                    rec.button_set_to_draft()
            </field>
        </record>


    </data>
</openerp>
