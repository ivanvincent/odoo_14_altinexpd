<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record model="report.paperformat" id="paperformat_manufacturing_req">
            <field name="name">Manufacturing Request A5</field>
            <field name="default" eval="True" />
            <field name="format">A5</field>
            <field name="orientation">Landscape</field>
            <field name="margin_top">50</field>
            <field name="margin_bottom">5</field>
            <field name="margin_right">5</field>
            <field name="margin_left">5</field>
            <field name="header_line" eval="False" />
            <field name="header_spacing">35</field>
            <field name="dpi">90</field>
        </record>

        <report 
        id="action_manufacturing_req" 
        model="mrp.request" 
        string="Print Manufactuing Request" 
        report_type="qweb-pdf" 
        name="my_report.manufacturing_req" 
        file="my_report.manufacturing_req" />

        <record id="action_manufacturing_req" model="ir.actions.report">
            <field name="paperformat_id" eval="paperformat_manufacturing_req" />
        </record>

        <template id="manufacturing_req">
            <t t-call="web.basic_layout">
                <t t-foreach="docs" t-as="doc">
                    <div class="header">
                        <div class="row mt32">
                            <div class="col-12">
                                <div class="col-xs-1" style="margin-left: -10px">
                                <img src="/web/binary/company_logo" style="width : 100px; height:60px; padding-top:20px;" align="left"/>
                                </div>
                                <div class="col-xs-8 col-xs-offset-1 font-small">
                                <span style="padding-left:10px; padding-bottom:5px; font-size:18px"><strong>PT. ALTINEX</strong></span><br/>
                                <span style="padding-left:10px; font-size:16px">Jl. Panghegar No.7 - Kota Bandung - 40613</span><br/>
                                <span style="padding-left:10px; font-size:16px">JAWA BARAT - INDONESIA</span>
                                </div>
                            </div>
                        </div>
                        <div class="line" style="border-bottom: thin solid #222;"/>
                    </div>
                    <br/>
                    <br/>
                    
                <div class="row" width="100%">
                    <div class="col-6" align="right" style="background-color: #E6E6FA;">
                        <span style="padding-left:10px;padding-right:10px; padding-bottom:5px; font-size:20px; font-weight: bold"><strong>MANUFACTURING ORDER REQUEST</strong></span><br/>
                        <span t-field="doc.name" style="padding-left:10px; padding-right:10px; padding-bottom:5px; font-size:20px;"/>
                    </div>
                    <div class="col-2">
                            Request Date <br/>
                            No SO <br/>
                            Customer <br/>
                    </div>
                    <div class="col-4">
                        : <span t-field="doc.request_date"/> <br/>
                        : <span t-field="doc.sale_id"/> <br/>
                        : <span t-field="doc.partner_id"/> <br/>
                    </div>
                </div>  
                <br/>
                    <table class="table-condensed" style="width: 100%">
                        <thead class="text-center">
                            <tr>
                                <th style="border: 1px solid black; padding-left : 5px ; padding-right : 5px">No.</th>
                                <th style="border: 1px solid black; padding-left : 5px ; padding-right : 5px">Production Type</th>
                                <th style="border: 1px solid black; padding-left : 5px ; padding-right : 5px">Product</th>
                                <th style="border: 1px solid black; padding-left : 5px ; padding-right : 5px">Qty Order</th>
                                <th style="border: 1px solid black; padding-left : 5px ; padding-right : 5px">Qty Remaining</th>
                                <th style="border: 1px solid black; padding-left : 5px ; padding-right : 5px">Qty Produce</th>
                                <th style="border: 1px solid black; padding-left : 5px ; padding-right : 5px">UoM</th>
                                <!-- <th style="border: 1px solid black; padding-left : 5px ; padding-right : 5px">Shape</th> -->
                                <!-- <th style="border: 1px solid black; padding-left : 5px ; padding-right : 5px"  >Team</th> -->
                                <th style="border: 1px solid black; pa  dding-left : 5px ; padding-right : 5px">Operation Template</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-set="no" t-value="0"/>
                            <t t-foreach="doc.line_ids" t-as="line">
                                <t t-set="no" t-value="no + 1"/>
                                <tr>
                                    <td style="border: 1px solid black;" class="text-center"><span t-esc="no"/></td>
                                    <td style="border: 1px solid black;" class="text-center"><span t-esc="line.type_id.name"/></td>
                                    <td style="border: 1px solid black;" class="text-center"><span t-esc="line.product_id.name"/></td>
                                    <td style="border: 1px solid black;" class="text-center"><span t-esc="line.qty_so"/></td>
                                    <td style="border: 1px solid black;" class="text-center"><span t-esc="line.quantity_remaining"/></td>
                                    <td style="border: 1px solid black;" class="text-center"><span t-esc="line.qty_produce"/></td>
                                    <td style="border: 1px solid black;" class="text-center"><span t-esc="line.product_uom_id.name"/></td>
                                    <!-- <td style="border: 1px solid black;" class="text-center"><span t-esc="line.shape"/></td> -->
                                    <td style="border: 1px solid black;" class="text-center"><span t-esc="line.team"/></td>
                                    <td style="border: 1px solid black;" class="text-center"><span t-esc="line.operation_template_id.name"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                
                <div class="footer">
                    <div class="row text-center" style="border-top: 1px solid black;">
                        <div class="col col-3 offset-9 text-right">
                            <ul class="list-inline mt-2">
                                <li class="list-inline-item">Page:</li>
                                <li class="list-inline-item">
                                    <span class="page"/>
                                </li>
                                <li class="list-inline-item">/</li>
                                <li class="list-inline-item">
                                    <span class="topage"/>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                </t>
            </t>
        </template>

    </data>
</odoo>