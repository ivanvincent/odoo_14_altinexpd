<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <report 
            id="vit_report_payslip"
            string="Shafco Payslip"
            model="hr.payslip" 
            report_type="qweb-pdf"
            file="vit_payroll.payslip_report" 
            name="vit_payroll.payslip_report" 
        />


  <template id="payslip_report">
        <t t-foreach="docs" t-as="o">
          <t t-call="report.external_layout">
          <div class="page"><!-- Header -->
            <!-- <div  class="left"  style="integer : left; width:1400px;font-size:25px;" > -->
              <table cellpadding="1">
                <tr>
                  <th class="text-left" style="border: none;">
                          <img t-if="o.company_id.logo" t-att-src="'data:image/png;base64,%s' % o.company_id.logo" style="max-height: 40px;"/>
                  </th>
                  <th class="text-center" style="border: none;"><h1></h1></th>
                  <th class="text-center" style="border: none;"><h1><b><t t-esc="o.company_id.name"/></b></h1></th>
                </tr>
              </table>

              <table>          
                <tr>
                  <td class="text-left" style="border: none;"><h3><b><t t-esc="o.name"/></b></h3></td>
                </tr>
              </table>

              <table style="width:100%;" class="table table-condensed table-bordered">
                <tr >
                  <td style="border: none;width:20%;"><b>NAMA</b></td>
                  <td style="border: none; width:25%;">: <t t-esc="o.employee_id.name"/></td>

                  <td style="border: none; width:20%;"><b>DEPARTMENT/BAGIAN</b></td>                          
                  <td style="border: none; width:25%;">: <t t-esc="o.employee_id.department_id.name"/></td>
                </tr> 
                <tr >
                  <td style="border: none;width:20%;"><b>NIK</b></td>
                  <td style="border: none; width:25%;">: <t t-esc="o.employee_id.nik"/></td>

                  <td style="border: none; width:20%;"><b>JOB LEVEL</b></td>                          
                  <td style="border: none; width:25%;">: <t t-esc="o.employee_id.job_level_id.name"/></td>
                </tr>  
                <tr >
                  <td style="border: none;width:20%;"><b>STATUS KARYAWAN</b></td>
                  <td style="border: none; width:25%;">: <t t-esc="o.employee_id.ptkp_id.kode"/></td>

                  <td style="border: none; width:20%;"><b>HARI KERJA</b></td>
                  <t t-foreach="o.worked_days_line_ids" t-as="days">                          
                    <td style="border: none; width:25%;" t-if="days.code == 'Work100'">: <t t-esc="'%d'%days.number_of_days" /></td>
                  </t>
                </tr>                     
              </table>  
              
              <br/>

              <table style="width:100%;"> 
                <tr>
                    <td style="width:45%;"><b><u>PENERIMAAN</u></b>
                      <table > 
                        <tr t-foreach="o.line_ids" t-as="line">
                          <td style="border: none; width:25%;" class="text-left" t-if="(line.category_id.code == 'ALW' or line.category_id.code == 'BASIC') and line.amount &gt; 0">
                            <span t-field="line.name"/>
                          </td>

                          <td style="border: none; width:15%;" class="text-right" t-if="(line.category_id.code == 'ALW' or line.category_id.code == 'BASIC') and line.amount &gt; 0">
                            <span t-field="line.total" t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                          </td>
                          <td style="border: none; width:5%;"></td>
                        </tr>                                  
                      </table>                      
                    </td>
                        
                    <td style="width:45%;"><b><u>POTONGAN</u></b>
                      <table> 
                        <tr t-foreach="o.line_ids" t-as="line" lass="text-left">
                          <td style="border: none; width:25%;" class="text-left" t-if="line.category_id.code == 'DED' and line.amount &lt; 0 ">
                            <span t-field="line.name"/>
                          </td>
                          <td style="border: none; width:15%;" class="text-right" t-if="line.category_id.code == 'DED' and line.amount &lt;0 ">
                            <span t-field="line.total" t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                          </td>
                          <td style="border: none; width:5%;"></td>
                        </tr>                                    
                      </table>                      

                    </td>
                </tr>                                     
              </table> 

              <br/>

              <table style="width:100%;"> 
                <tr >
                    <td style="width:37%;">
                      <table style="width:100%;">  
                        <tr t-foreach="o.line_ids" t-as="line">
                            <td style="border: none;" class="text-left" t-if="line.code == 'TTLALW' and line.amount &gt;= 0"><b>TOTAL PENERIMAAN</b></td>
                            <td class="text-right" t-if="line.code == 'TTLALW' and line.amount &gt;= 0">
                              <b><span t-field="line.total" t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/></b>
                            </td>
                        </tr>                                     
                      </table>                      
                    </td>
                    <td class="text-left" style="width:5%;"></td>
                    <td style="width:37%;">
                      <table style="width:100%;">  
                        <tr t-foreach="o.line_ids" t-as="line" >
                            <td style="border: none;" class="text-left" t-if="line.code == 'TTLDED' and line.amount &lt;= 0"><b>TOTAL POTONGAN</b></td>    
                            <td class="text-right" t-if="line.code == 'TTLDED' and line.amount &lt;= 0">
                              <b><span t-field="line.total" t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/></b>
                          </td>
                        </tr>                                     
                      </table>                      
                    </td>
                    <td class="text-left" style="border: none; width:5%;">.</td>
                </tr>                                     
              </table>

              <br/>

              <table style="width:100%;"> 
                <tr >
                    <td style="width:70%;">
                      <table style="width:44%;">  
                        <tr t-foreach="o.line_ids" t-as="line">

                            <td style="border: none;" class="text-left" t-if="line.category_id.code == 'NET' and line.amount != 0"><b>GAJI BERSIH</b></td>
                            <td style="border: none;" class="text-right" t-if="line.category_id.code == 'NET' and line.amount != 0"><b><span t-field="line.total" t-esc-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/></b></td>
                        </tr>                                     
                      </table>
                    </td>                     
                </tr>                                     
              </table>
          </div>
        </t>
        </t>
    </template>


    </data>
</odoo>