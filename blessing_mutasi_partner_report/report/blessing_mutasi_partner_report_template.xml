<?xml version="1.0" encoding="utf-8"?>
<odoo>

<template id="report_mutasi_partner">
        <link href="/blessing_mutasi_partner_report/static/src/css/report.css" rel="stylesheet"/>
        <t t-call="web.basic_layout">
            <t t-foreach="docs" t-as="o">
                <t t-if="o.check_detail_mutasi == 'rekap'">
                    <t t-call="blessing_mutasi_partner_report.report_mutasi_partner2"/>
                </t>
                <t t-if="o.check_detail_mutasi == 'detail'">
                    <div class="page">
                        <div class="oe_structure"/>

                        <h2>
                            <div>
                                <strong>MUTASI PARTNER REPORT
                                    (<strong t-field="o.account_mutasi" style="text-transform: uppercase"/>)
                                </strong>
                            </div>
                        </h2>
                        <br></br>
                        <div>
                            No Document : <span t-field="o.name"/>
                        </div>
                            
                        <div class="row">               
                            <div class="col-3">
                                <strong>Periode :</strong><br/>
                                <span t-field="o.start_date"/> to 
                                <span t-field="o.end_date"/>
                            </div>                    
                            <!-- <div class="col-2">
                                <strong>Mutasi (AR/AP) :</strong><br/>
                                <span t-field="o.account_mutasi"/>
                            </div> -->
                            <div class="col-2">
                                <strong>Filters :</strong><br/>
                                <div t-if="o.check_draft_mutasi_partner == True and o.check_posted_mutasi_partner == True">
                                    <span>Draft, Posted</span>
                                </div>
                                <div t-if="o.check_draft_mutasi_partner == True and o.check_posted_mutasi_partner == False">
                                    <span>Draft</span>
                                </div>
                                <div t-if="o.check_draft_mutasi_partner == False and o.check_posted_mutasi_partner == True">
                                    <span>Posted</span>
                                </div>
                            </div>
                            <div class="col-2">
                                <strong>Admin :</strong><br/>
                                <span t-field="o.write_uid"/>
                            </div>  
                            <div class="col-2">
                                <strong>Customer :</strong><br/>
                                <span t-field="o.mutasi_partner_id.name"/>
                            </div>
                            <div class="col-2">
                                <strong>Saldo Awal :</strong><br/>
                                <span t-field="o.start_amount"/>
                            </div>       
                        </div>
                        <br></br>
                        <t t-if="o.mutasi_ids">
                            <div class="act_as_table list_table" style="margin-top: 10px;"/>
                            <div class="act_as_table data_table" style="width: 1445px !important;">
                                <t t-set="kolom_saldo" t-value="0"/>
                                <t t-set="sum_debet" t-value="0"/>
                                <t t-set="sum_credit" t-value="0"/>
                                <t t-set="sum_saldo" t-value="0"/>
                                <!-- <table class="table table-bordered"> -->
                                <div class="act_as_thead">
                                    <div class="act_as_row labels text-center" style="font-size: 15px !important; padding: 3px;">
                                        <div class="act_as_cell first_column" name="urut" style="width: 35px;">
                                            <strong>No.</strong>
                                        </div>
                                        <div class="act_as_cell" name="date" style="width: 80px;">
                                            <strong>Tanggal</strong>
                                        </div>
                                        <div class="act_as_cell" name="name" style="width: 280px;">
                                            <strong>Keterangan</strong>
                                        </div>
                                        <div class="act_as_cell" name="move_id" style="width: 100px;">
                                            <strong>No Journal</strong>
                                        </div>
                                        <div class="act_as_cell" name="journal_id" style="width: 150px;">
                                            <strong>Journal</strong>
                                        </div>
                                        <div class="act_as_cell" name="debet" style="width: 130px;">
                                            <strong>Debet</strong>
                                        </div>
                                        <div class="act_as_cell" name="credit" style="width: 130px;">
                                            <strong>Credit</strong>
                                        </div>
                                        <div class="act_as_cell" name="saldo" style="width: 140px;">
                                            <strong>Saldo</strong>
                                        </div>
                                        <div class="act_as_cell" name="state" style="width: 60px;">
                                            <strong>Status</strong>
                                        </div>
                                    </div>
                                </div>
                                <tbody>
                                    <t t-foreach="o.mutasi_ids" t-as="line_ids">
                                        <div class="act_as_row lines" style="font-size: 15px !important; padding: 3px;">
                                            <div class="act_as_cell left" name="urut">
                                                <span t-field="line_ids.urut"/>
                                            </div>
                                            <div class="act_as_cell left" name="date">
                                                <span t-field="line_ids.date"/>
                                            </div>
                                            <div class="act_as_cell left" name="name">
                                                <span t-field="line_ids.name"/>
                                            </div>
                                            <div class="act_as_cell left" name="move_id">
                                                <span t-field="line_ids.move_id"/>
                                            </div>
                                            <div class="act_as_cell left" name="journal_id">
                                                <span t-field="line_ids.journal_id"/>
                                            </div>
                                            <div class="act_as_cell amount" name="debet">
                                                    <span t-field="line_ids.debet"/>
                                                    <t t-set="sum_debet" t-value="sum_debet + line_ids.debet"/>
                                            </div>
                                            <div class="act_as_cell amount" name="credit">
                                                    <span t-field="line_ids.credit"/>
                                                    <t t-set="sum_credit" t-value="sum_credit + line_ids.credit"/>
                                            </div>
                                            <div class="act_as_cell amount" name="saldo">
                                                <span t-esc="'{0:,.2f}'.format(line_ids.balance)"/>
                                            </div>
                                            <div  class="act_as_cell amount" name="state" style="text-align: left;">
                                                <span t-field="line_ids.state_line"/>
                                            </div>
                                        </div>
                                    </t>
                                </tbody>
                                <t>
                                    <div class="act_as_cell left" name="urut">
                                    </div>
                                    <div class="act_as_cell left" name="date">
                                    </div>
                                    <div class="act_as_cell left" name="name">
                                    </div>
                                    <div class="act_as_cell left" name="move_id">
                                    </div>
                                    <div class="act_as_cell left" name="journal_id" style="font-size: 15px !important">
                                        <strong>
                                            Jumlah Total
                                        </strong>
                                    </div>
                                    <div class="act_as_cell amount" name="debet" style="font-size: 15px !important">
                                        <strong>
                                            <span t-esc="'{0:,.2f}'.format(sum_debet)"/>
                                        </strong>
                                    </div>
                                    <div class="act_as_cell amount" name="credit" style="font-size: 15px !important">
                                        <strong>
                                            <span t-esc="'{0:,.2f}'.format(sum_credit)"/>
                                        </strong>
                                    </div>
                                    <div class="act_as_cell amount" name="saldo" style="font-size: 15px !important">
                                    </div>
                                </t>
                            </div>
                        </t>
                        <div class="oe_structure"/>
                    </div>
                </t>
            </t>
        </t>
</template>

</odoo>
