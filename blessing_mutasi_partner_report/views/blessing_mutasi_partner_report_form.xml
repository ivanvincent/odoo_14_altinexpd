<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <!-- calendar -->
        <record id="blessing_mutasi_partner_report_cal" model="ir.ui.view">
            <field name="name">blessing_mutasi_partner_report_cal</field>
            <field name="model">blessing.mutasi.partner.report</field>
            <field name="arch" type="xml">
                <calendar string="Mutasi Partner Report" date_start="tanggal" mode="month">
                    <field name="name" />
                </calendar>
            </field>
        </record>

        <!--graph-->

        <!--pivot-->

        <!-- search -->
        <record id="blessing_mutasi_partner_report_search" model="ir.ui.view">
            <field name="name">blessing_mutasi_partner_report_search</field>
            <field name="model">blessing.mutasi.partner.report</field>
            <field name="arch" type="xml">
                <search string="Search Mutasi Partner Report">
                    <field name="name"/>
                    <field name="mutasi_ids"/>
                </search>
            </field>
        </record>

        <!-- Menapilkan Data Mutasi Partner di Tab/page "Saldo Partner" -->
        <record model="ir.ui.view" id="blessing_mutasi_partner_report_line_tree_view">
            <field name="name">blessing_mutasi_partner_report_line_tree_view</field>
            <field name="model">blessing.mutasi.partner.report.line</field>
            <field name="arch" type="xml">
                <tree string="Muasi Partner" editable="bottom">
                    <field name="partner_id" />
                    <field name="date"/> 
                    <field name="name"/> 
                    <field name="move_id"/> 
                    <field name="journal_id" />
                    <field name="debet" sum="debet" />
                    <field name="credit" sum="credit" />
                    <field name="balance" sum="balance"/>
                    <!-- <field name="balance" /> -->
                    <field name="state_line" />
                </tree>
            </field>
        </record>


        <record id="view_blessing_mutasi_partner_report_tree" model="ir.ui.view">
            <field name="name">blessing_mutasi_partner_report_tree</field>
            <field name="model">blessing.mutasi.partner.report</field>
            <field name="type">tree</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <tree string="Mutasi Partner Report" >
                    <field name="name"/>
                    <field name="tanggal" />
                    <field name="start_date" />
                    <field name="end_date" />
                    <field name="account_mutasi" />
                    <field name="check_detail_mutasi" />
                    <field name="mutasi_partner_id" />
                    <field name="start_amount" sum="start_amount"/>
                    <field name="db_amount" sum="db_amount"/>
                    <field name="cr_amount" sum="cr_amount"/>
                    <field name="final_amount" sum="final_amount"/>
                    <field name="state_doc" />
                </tree>
            </field>
        </record>

        <record id="view_blessing_mutasi_partner_report_form" model="ir.ui.view">
            <field name="name">blessing_mutasi_partner_report_form</field>
            <field name="model">blessing.mutasi.partner.report</field>
            <field name="type">form</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <form string="Mutasi Partner Report Form">
                    <header>
                        <button 
                            name="action_confirm" 
                            string='Confirm' 
                            type="object" 
                            class="oe_highlight" 
                            attrs="{'invisible': [('state_doc', 'not in', ('draft'))]}"
                            />
                        <button 
                            name="action_done" 
                            string='Done' 
                            type="object" 
                            class="oe_highlight" 
                            attrs="{'invisible': [('state_doc', 'not in', ('confirm'))]}"
                            />
                        <button 
                            name="action_cancel" 
                            string='Cancel' 
                            type="object" 
                            attrs="{'invisible': [('state_doc', 'not in', ('confirm'))]}"
                            />
                        <button 
                            name="action_draft" 
                            string='Set to Draft' 
                            type="object" 
                            class="oe_highlight" 
                            attrs="{'invisible': [('state_doc', 'not in', ('cancel'))]}"
                            />
                        <field name="state_doc" widget="statusbar" statusbar_visible="draft,confirm,done" />
                    </header>

                     <sheet>
                            <div class="oe_title">
                                <!--<label for="name" class="oe_edit_only" string="Mutasi Partner Report Name"/>-->
                                <h1>
                                    <field name="name" readonly="1"/>
                                </h1>
                            </div>
                            <separator string="Mutasi Partner Report" colspan="4"/>
                            <group colspan="4" col="4">
                                <group colspan="4" col="4">
                                    <field name="tanggal" attrs="{'readonly': [('state_doc', '!=', 'draft')]}"/>
                                    <field name="write_uid" readonly="True"/>
                                    <field name="check_detail_mutasi"/>
                                    <field name="account_mutasi" attrs="{'readonly': [('state_doc', '!=', 'draft')]}"/>
                                    <field name="start_amount" readonly="1"/>
                                    <field name="final_amount" readonly="1"/>
                                    <field name="db_amount" readonly="1"/>
                                    <field name="cr_amount" readonly="1"/>
                                </group>
                                <group colspan="4" col="4">
                                    <field name="start_date" attrs="{'readonly': [('state_doc', '!=', 'draft')]}"/>
                                    <field name="end_date" attrs="{'readonly': [('state_doc', '!=', 'draft')]}"/>
                                    <field name="mutasi_partner_id" attrs="{'invisible':[('check_detail_mutasi', '!=', 'detail')]}"/>
                                </group>
                                <group>
                                    <separator string="Filters" />
                                    <button 
                                        name="button_calculate" 
                                        class="oe_highlight"
                                        string="Get Data" 
                                        type="object"
                                        attrs="{'invisible': [('state_doc', 'not in', ('draft'))]}"
                                        confirm="Tombol ini akan melakukan beberapa tindakan. Pertama, menghapus semua baris data laporan. Selanjutnya, menampilkan data Mutasi sesuai periode tanggal yang dipilih. Jika tidak ada status yang diceklis, maka sistem akan menampilkan data kosong...."
                                        />
                                    <field name="check_draft_mutasi_partner"/>
                                    <field name="check_posted_mutasi_partner"/>
                                    <field name="status_customer"/>
                                    <separator string=""/>
                                </group>
                                 <notebook colspan="4">
                                    <page string="List Move Transaction">
                                        <field name="mutasi_ids" nolabel="1">
                                            <tree>
                                                <field name="partner_id" />
                                                <field name="group_partner_id" />
                                                <field name="date"/> 
                                                <field name="name"/>
                                                <field name="move_id"/>
                                                <field name="journal_id"/>
                                                <field name="opening" sum="opening"/>
                                                <field name="debet" sum="debet"/>
                                                <field name="credit" sum="credit" />
                                                <field name="balance" sum="balance"/>
                                                <field name="state_line" />
                                            </tree>
                                        </field>
                                    </page>
                                </notebook>
                            </group>
                            
                            <!-- <group col="2" colspan="2"> -->
                                <!-- <separator string="Calculate" colspan="2" /> -->
                                <!-- <field name="start_amount" colspan="2" /> -->
                                <!-- <field name="final_amount" colspan="2" /> -->
                            <!-- </group> -->


                     </sheet>

                     <div class="oe_chatter">
                            <field name="message_follower_ids" widget="mail_followers"/>
                            <field name="message_ids" widget="mail_thread"/>
                        </div>
                </form>
            </field>
        </record>

        <record id="journal_form_mutasi_report" model="ir.ui.view">
            <field name="name">account.journal.mutasi.reort</field>
            <field name="model">account.journal</field>
            <field name="inherit_id" ref="account.view_account_journal_form"/>
            <field name="arch" type="xml">
                <xpath expr="//notebook[last()]" position="inside">
                    <page string="Mutasi Report">
                        <group col="4" colspan="4">
                            <field name="kolom_ar" attrs="{'readonly': [('type', '=', 'purchase')]}"/>
                            <field name="kolom_ap" attrs="{'readonly': [('type', '=', 'sale')]}"/>
                            <field name="reverse_ar" attrs="{'readonly': [('type', '=', 'purchase')]}"/>
                            <field name="reverse_ap" attrs="{'readonly': [('type', '=', 'sale')]}"/>
                        </group>
                    </page>
                </xpath>
            </field>
        </record>

        <!-- <record id="mutasi_account_journal_view_tree" model="ir.ui.view">
            <field name="name">account.journal.mutasi.tree</field>
            <field name="model">account.journal</field>
            <field name="inherit_id" ref="account.view_account_journal_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='type']" position="after">
                    <field name="kolom_ar"/>
                    <field name="kolom_ap"/>
                </xpath>
            </field>
        </record> -->
        
        <!-- <record id="mutasi_account_move_line_view_tree" model="ir.ui.view">
            <field name="name">account.move.line.mutasi.tree</field>
            <field name="model">account.move.line</field>
            <field name="inherit_id" ref="account.view_move_line_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='date_maturity']" position="after">
                    <field name="state"/>
                </xpath>
            </field>
        </record> -->

    </data>
</openerp>